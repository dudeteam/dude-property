<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<!--
`dude-property-reference`

@group dude Elements
@element dude-property
@demo demo/index.html
-->
<dom-module id="dude-property-reference">
    <style>
        :host {
            --paper-icon-button: {
                 color: #666666;
                 padding: 4px;
                 width: 30px;
                 height: 30px;
            };
        }
        :host([open]) {
            width: 100%;
        }
        #tag {
            padding-left: 10px;
            background: var(--dude-primary-color);
            font-family: var(--dude-content-text-font);
        }
        #tag span {
            padding-top: 8px;
        }
    </style>
    <template>
        <template is="dom-if" if="[[ !reference ]]">
            <paper-icon-button icon="link" on-click="_addReference"></paper-icon-button>
        </template>
        <template is="dom-if" if="[[ reference ]]">
            <div id="tag" class="layout horizontal">
                <span class="flex">[[ reference.name ]]</span>
                <paper-icon-button icon="icons:cancel" on-click="_removeReference"></paper-icon-button>
            </div>
        </template>
    </template>
    <script>
        Polymer({

            is: "dude-property-reference",

            properties: {

                /**
                 *
                 */
                "reference": {
                    "type": Object,
                    "value": null
                }
            },

            /**
             * Called when adding a reference
             * @event dude-property-reference-add
             * @delegate
             * @private
             */
            _addReference: function () {
                this.setAttribute("open", "");
                this.fire("dude-property-reference-add");
            },

            /**
             * Called when removing the reference
             * @event dude-property-reference-remove
             * @delegate
             * @private
             */
            _removeReference: function () {
                this.removeAttribute("open");
                this.fire("dude-property-reference-remove");
            }
        });
    </script>
</dom-module>