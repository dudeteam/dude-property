<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-slider/paper-slider.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-item/paper-item.html">
<!--
`dude-property` A generic picker which adapts automatically according to the type of the given value.

@group dude Elements
@element dude-property
@demo demo/index.html
-->
<dom-module id="dude-property">
    <style>
        :host {
            display: block;
            padding: 10px 0;
        }

        label {
            display: block;
            padding-bottom: 5px;
            color: var(--text-secondary-color);
        }

        input[type="text"], input[type="number"] {
            color: var(--text-content-color);
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--text-secondary-color);
            outline: none;
            font-size: 1em;
            font-family: var(--text-content-font);
        }

        input[type="text"]:not(:first-child), input[type="number"]:not(:first-child) {
            margin-left: 10px;
        }

        input[type="text"]:focus, input[type="number"]:focus {
            border-bottom: 2px solid var(--default-primary-color);
        }

        paper-button {
            text-transform: none;
            text-align: left;
            margin: 0;
            background: #444444;
            border-radius: 0;
        }

        paper-slider {
            width: 100%;
        }
    </style>
    <template>
        <label>{{ property.name }}</label>

        <div id="picker">
            <iron-pages attr-for-selected="data-type" selected="vec2">
                <div data-type="vec2" class="layout horizontal">
                    <template is="dom-if" if="[[ !reference ]]">
                        <paper-input value="{{ value.x }}" label="x" class="flex" type="number"></paper-input>
                        <paper-input value="{{ value.y }}" label="y" class="flex" type="number"></paper-input>
                    </template>
                    <template is="dom-if" if="[[ reference ]]">
                        <span>{{ reference.name }}</span><span>x</span>
                    </template>
                </div>
            </iron-pages>
        </div>
        <div id="reference">
            <template is="dom-if" if="[[ !reference ]]">
                <paper-icon-button icon="link"></paper-icon-button>
            </template>
            <template is="dom-if" if="[[ reference ]]">
                <paper-icon-button icon="unlink"></paper-icon-button>
            </template>
        </div>
    </template>
    <script>
        Polymer({

            is: "dude-property",

            properties: {

                /**
                 *
                 */
                "name": {
                    "type": String
                },

                /**
                 *
                 */
                "type": {
                    "type": "String"
                },

                /**
                 *
                 */
                "value": {
                    "type": Object
                },

                /**
                 *
                 */
                "reference": {
                    "type": Object,
                    "value": null
                }
            },

            ready: function () {
                window.stuff = function () {
                    console.log(this.value);
                }.bind(this);
            }
        });
    </script>
</dom-module>